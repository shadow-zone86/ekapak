# PageLoader Component

Компонент загрузки страницы с анимацией прогресса. Показывает логотип с эффектом закрашивания слева направо во время загрузки приложения.

## Использование

```tsx
import { PageLoader } from '@/shared/ui/page-loader';

// В layout.tsx
export default function RootLayout({ children }: { children: React.ReactNode }) {
  return (
    <html lang="ru">
      <body>
        <PageLoader />
        {/* Остальной контент */}
      </body>
    </html>
  );
}
```

## Описание

`PageLoader` автоматически отображается при загрузке страницы и скрывается после полной загрузки. Компонент использует логотип из `/public/logo.svg` и создает эффект закрашивания:

- **Фоновый логотип** - полупрозрачный серый (opacity: 0.2, grayscale)
- **Прогресс-бар** - цветной логотип, который раскрывается слева направо (0% → 75% → 100%)

## Особенности

- **Автоматическое управление** - компонент сам определяет, когда показывать и скрывать спиннер
- **Анимация прогресса** - плавное заполнение логотипа от 0% до 75% за 5 секунд
- **Автоматическое завершение** - после события `load` прогресс доходит до 100%
- **Fallback** - автоматически скрывается через 5 секунд максимум
- **Плавное скрытие** - fade-out анимация с задержкой 0.8s
- **Высокий z-index** - отображается поверх всего контента (z-index: 100000)

## Логика работы

1. **Инициализация** - компонент показывается сразу при монтировании
2. **Анимация прогресса** - запускается `requestAnimationFrame` для плавной анимации от 0% до 75%
3. **Событие load** - при полной загрузке страницы прогресс доходит до 100%
4. **Скрытие** - через 300ms после достижения 100% компонент скрывается с fade-out

## Технические детали

- Использует `requestAnimationFrame` для плавной анимации
- Слушает событие `window.load` для определения полной загрузки
- Проверяет `document.readyState === 'complete'` для немедленного скрытия, если страница уже загружена
- Имеет fallback таймаут на 5 секунд для гарантированного скрытия

## Стилизация

Компонент использует следующие классы:

- `.loading-logo` - контейнер логотипа (absolute, центрирование)
- `.loading-logo__progress` - контейнер прогресса (absolute, overflow: hidden)
- Фоновое изображение: `opacity: 0.2`, `filter: grayscale(100%)`
- Цветное изображение: без фильтров, раскрывается слева направо

## Примеры

### Базовое использование в Next.js App Router

```tsx
// app/layout.tsx
import { PageLoader } from '@/shared/ui/page-loader';

export default function RootLayout({ children }: { children: React.ReactNode }) {
  return (
    <html lang="ru">
      <body>
        <PageLoader />
        <StoreProvider>
          {/* Остальной контент */}
        </StoreProvider>
      </body>
    </html>
  );
}
```

### Ручное управление (если нужно)

```tsx
import { useState } from 'react';
import { PageLoader } from '@/shared/ui/page-loader';

function MyComponent() {
  const [isLoading, setIsLoading] = useState(true);

  useEffect(() => {
    // Ваша логика загрузки
    loadData().then(() => {
      setIsLoading(false);
    });
  }, []);

  return (
    <>
      {isLoading && <PageLoader />}
      {/* Контент */}
    </>
  );
}
```

## Примечания

- Компонент не принимает props - он полностью автономный
- Логотип должен находиться в `/public/logo.svg`
- Размеры логотипа: 153x19px (можно изменить в коде)
- Компонент использует фиксированную позицию и покрывает весь экран
