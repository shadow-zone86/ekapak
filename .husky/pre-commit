#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# –ó–∞–ø—É—Å–∫–∞–µ–º lint-staged –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ (lint + —Ç–µ—Å—Ç—ã)
npx lint-staged

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–∏–ø—ã TypeScript
echo "üîç Running type-check..."
npm run type-check || {
  echo "‚ùå Type-check failed. Please fix TypeScript errors before committing."
  exit 1
}

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–±–æ—Ä–∫—É –ø—Ä–æ–µ–∫—Ç–∞
echo "üî® Running build check..."
npm run build || {
  echo "‚ùå Build failed. Please fix build errors before committing."
  exit 1
}

echo "‚úÖ All checks passed!"
